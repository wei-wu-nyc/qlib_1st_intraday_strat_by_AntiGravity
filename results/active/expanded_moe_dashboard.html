<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Intraday Model Comparison: LGB vs XGB vs RF</title>
    <style>
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: #1a1a2e; color: #e8e8e8; padding: 20px; }
        h1 { text-align: center; color: #00d9ff; font-size: 28px; margin-bottom: 20px; }
        .period-section { margin-bottom: 60px; }
        h2 { color: #ccc; border-bottom: 1px solid #444; padding-bottom: 10px; margin-top: 40px; }
        
        /* Tabs */
        .tabs { display: flex; justify-content: center; margin-bottom: 20px; gap: 10px; }
        .tab-btn { background: #333; color: #aaa; border: none; padding: 10px 20px; cursor: pointer; border-radius: 4px; font-size: 16px; }
        .tab-btn.active { background: #00d9ff; color: #000; font-weight: bold; }
        
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        table { width: 100%; border-collapse: collapse; background: rgba(255,255,255,0.05); font-size: 13px; margin-bottom: 20px; }
        th, td { padding: 10px; text-align: right; border: 1px solid rgba(255,255,255,0.1); }
        th { background: rgba(0,0,0,0.3); text-align: center; }
        th.row-header { text-align: left; min-width: 120px; }
        
        .pos { color: #00ff88; }
        .neg { color: #ff6666; }
        .neu { color: #888; }
        
        .fam-header { font-size: 16px; font-weight: bold; }
        .lgb-h { color: #ff99cc; background: rgba(255,153,204,0.1); }
        .xgb-h { color: #99ccff; background: rgba(153,204,255,0.1); }
        .rf-h  { color: #ccff99; background: rgba(204,255,153,0.1); }
        
    </style>
    <script>
        function showTab(period, fam) {
            // Hide all contents for this period
            document.querySelectorAll(`.content-${period}`).forEach(el => el.classList.remove('active'));
            document.querySelectorAll(`.btn-${period}`).forEach(el => el.classList.remove('active'));
            
            // Show selected
            document.getElementById(`tab-${period}-${fam}`).classList.add('active');
            document.getElementById(`btn-${period}-${fam}`).classList.add('active');
        }
    </script>
</head>
<body>
    <h1>ðŸ¤– Comparative Analysis: LightGBM vs XGBoost vs Random Forest</h1>
    <p style="text-align:center; color:#888;">Global (General) vs MoE (Specialized) Models across Regimes</p>
    
        <div class="period-section">
            <h2>Test Period (2022-2025)</h2>
            
            <div class="tabs">
                <button id="btn-test-LGB" class="tab-btn btn-test active" onclick="showTab('test', 'LGB')">LightGBM</button>
                <button id="btn-test-XGB" class="tab-btn btn-test" onclick="showTab('test', 'XGB')">XGBoost</button>
                <button id="btn-test-RF" class="tab-btn btn-test" onclick="showTab('test', 'RF')">Random Forest</button>
            </div>
        
            <div id="tab-test-LGB" class="tab-content content-test active">
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2" class="row-header">Time of Day</th>
                            <th colspan="4" class="fam-header lgb-h">Global LGB</th>
                            <th colspan="4" class="fam-header lgb-h">MoE LGB</th>
                            <th rowspan="2">Edge (bp)</th>
                        </tr>
                        <tr>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                        </tr>
                    </thead>
                    <tbody>
            
                <tr>
                    <td class="row-header">09:40 Open+10m</td>
                    <td class="neg">-13.55%</td> <td>-1.73</td> <td>48.9%</td> <td>503</td>
                    <td class="neg">-12.17%</td> <td>-0.48</td> <td>51.3%</td> <td>779</td>
                    <td class="pos">+1.25</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:00 Morning</td>
                    <td class="pos">18.36%</td> <td>3.67</td> <td>55.9%</td> <td>665</td>
                    <td class="pos">11.32%</td> <td>2.40</td> <td>54.9%</td> <td>860</td>
                    <td class="neg">-1.27</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:30 Late Morning</td>
                    <td class="neg">-4.78%</td> <td>0.46</td> <td>47.8%</td> <td>726</td>
                    <td class="pos">2.32%</td> <td>1.39</td> <td>50.2%</td> <td>819</td>
                    <td class="pos">+0.93</td>
                </tr>
                
                <tr>
                    <td class="row-header">12:00 Noon</td>
                    <td class="pos">8.81%</td> <td>2.17</td> <td>53.9%</td> <td>826</td>
                    <td class="pos">8.26%</td> <td>2.11</td> <td>53.2%</td> <td>821</td>
                    <td class="neg">-0.06</td>
                </tr>
                
                <tr>
                    <td class="row-header">13:00 Afternoon</td>
                    <td class="pos">12.72%</td> <td>2.44</td> <td>55.1%</td> <td>902</td>
                    <td class="pos">40.21%</td> <td>4.80</td> <td>55.6%</td> <td>922</td>
                    <td class="pos">+2.37</td>
                </tr>
                
                <tr>
                    <td class="row-header">14:00 Late Afternoon</td>
                    <td class="pos">9.42%</td> <td>2.08</td> <td>53.0%</td> <td>912</td>
                    <td class="pos">16.33%</td> <td>2.79</td> <td>53.2%</td> <td>886</td>
                    <td class="pos">+0.71</td>
                </tr>
                
                <tr>
                    <td class="row-header">15:00 Market Close</td>
                    <td class="neg">-17.36%</td> <td>-1.03</td> <td>48.0%</td> <td>910</td>
                    <td class="neg">-4.04%</td> <td>0.59</td> <td>51.3%</td> <td>879</td>
                    <td class="pos">+1.63</td>
                </tr>
                </tbody></table></div>
            <div id="tab-test-XGB" class="tab-content content-test ">
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2" class="row-header">Time of Day</th>
                            <th colspan="4" class="fam-header xgb-h">Global XGB</th>
                            <th colspan="4" class="fam-header xgb-h">MoE XGB</th>
                            <th rowspan="2">Edge (bp)</th>
                        </tr>
                        <tr>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                        </tr>
                    </thead>
                    <tbody>
            
                <tr>
                    <td class="row-header">09:40 Open+10m</td>
                    <td class="neg">-14.98%</td> <td>-1.26</td> <td>50.0%</td> <td>666</td>
                    <td class="neg">-2.32%</td> <td>0.88</td> <td>52.6%</td> <td>777</td>
                    <td class="pos">+2.13</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:00 Morning</td>
                    <td class="neg">-6.66%</td> <td>0.24</td> <td>53.6%</td> <td>757</td>
                    <td class="neg">-0.81%</td> <td>1.06</td> <td>53.1%</td> <td>883</td>
                    <td class="pos">+0.82</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:30 Late Morning</td>
                    <td class="pos">2.72%</td> <td>1.52</td> <td>50.8%</td> <td>699</td>
                    <td class="pos">14.17%</td> <td>2.76</td> <td>51.4%</td> <td>810</td>
                    <td class="pos">+1.24</td>
                </tr>
                
                <tr>
                    <td class="row-header">12:00 Noon</td>
                    <td class="pos">5.47%</td> <td>1.80</td> <td>53.4%</td> <td>817</td>
                    <td class="pos">9.29%</td> <td>2.24</td> <td>54.6%</td> <td>811</td>
                    <td class="pos">+0.44</td>
                </tr>
                
                <tr>
                    <td class="row-header">13:00 Afternoon</td>
                    <td class="pos">7.12%</td> <td>1.86</td> <td>54.5%</td> <td>908</td>
                    <td class="pos">25.34%</td> <td>3.58</td> <td>54.8%</td> <td>912</td>
                    <td class="pos">+1.73</td>
                </tr>
                
                <tr>
                    <td class="row-header">14:00 Late Afternoon</td>
                    <td class="neg">-0.98%</td> <td>0.99</td> <td>51.4%</td> <td>924</td>
                    <td class="pos">14.31%</td> <td>2.59</td> <td>53.3%</td> <td>891</td>
                    <td class="pos">+1.60</td>
                </tr>
                
                <tr>
                    <td class="row-header">15:00 Market Close</td>
                    <td class="neg">-20.85%</td> <td>-1.48</td> <td>47.2%</td> <td>920</td>
                    <td class="neg">-8.02%</td> <td>0.14</td> <td>49.9%</td> <td>902</td>
                    <td class="pos">+1.61</td>
                </tr>
                </tbody></table></div>
            <div id="tab-test-RF" class="tab-content content-test ">
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2" class="row-header">Time of Day</th>
                            <th colspan="4" class="fam-header rf-h">Global RF</th>
                            <th colspan="4" class="fam-header rf-h">MoE RF</th>
                            <th rowspan="2">Edge (bp)</th>
                        </tr>
                        <tr>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                        </tr>
                    </thead>
                    <tbody>
            
                <tr>
                    <td class="row-header">09:40 Open+10m</td>
                    <td class="neg">-15.77%</td> <td>-2.54</td> <td>47.5%</td> <td>461</td>
                    <td class="neg">-4.38%</td> <td>0.44</td> <td>51.6%</td> <td>636</td>
                    <td class="pos">+2.98</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:00 Morning</td>
                    <td class="neg">-19.44%</td> <td>-4.16</td> <td>47.8%</td> <td>408</td>
                    <td class="pos">11.33%</td> <td>2.49</td> <td>54.1%</td> <td>791</td>
                    <td class="pos">+6.65</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:30 Late Morning</td>
                    <td class="pos">4.34%</td> <td>1.87</td> <td>50.4%</td> <td>558</td>
                    <td class="pos">4.79%</td> <td>1.72</td> <td>50.3%</td> <td>788</td>
                    <td class="neg">-0.16</td>
                </tr>
                
                <tr>
                    <td class="row-header">12:00 Noon</td>
                    <td class="neg">-6.79%</td> <td>0.31</td> <td>53.9%</td> <td>893</td>
                    <td class="pos">20.31%</td> <td>3.73</td> <td>55.8%</td> <td>718</td>
                    <td class="pos">+3.42</td>
                </tr>
                
                <tr>
                    <td class="row-header">13:00 Afternoon</td>
                    <td class="pos">4.83%</td> <td>1.60</td> <td>53.9%</td> <td>951</td>
                    <td class="pos">9.54%</td> <td>2.06</td> <td>53.7%</td> <td>956</td>
                    <td class="pos">+0.46</td>
                </tr>
                
                <tr>
                    <td class="row-header">14:00 Late Afternoon</td>
                    <td class="neg">-3.92%</td> <td>0.70</td> <td>51.8%</td> <td>968</td>
                    <td class="pos">9.05%</td> <td>2.08</td> <td>53.1%</td> <td>877</td>
                    <td class="pos">+1.37</td>
                </tr>
                
                <tr>
                    <td class="row-header">15:00 Market Close</td>
                    <td class="neg">-26.29%</td> <td>-2.08</td> <td>47.3%</td> <td>968</td>
                    <td class="neg">-7.02%</td> <td>0.22</td> <td>49.9%</td> <td>862</td>
                    <td class="pos">+2.30</td>
                </tr>
                </tbody></table></div></div>
        <div class="period-section">
            <h2>Validation (2019-2021)</h2>
            
            <div class="tabs">
                <button id="btn-valid-LGB" class="tab-btn btn-valid active" onclick="showTab('valid', 'LGB')">LightGBM</button>
                <button id="btn-valid-XGB" class="tab-btn btn-valid" onclick="showTab('valid', 'XGB')">XGBoost</button>
                <button id="btn-valid-RF" class="tab-btn btn-valid" onclick="showTab('valid', 'RF')">Random Forest</button>
            </div>
        
            <div id="tab-valid-LGB" class="tab-content content-valid active">
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2" class="row-header">Time of Day</th>
                            <th colspan="4" class="fam-header lgb-h">Global LGB</th>
                            <th colspan="4" class="fam-header lgb-h">MoE LGB</th>
                            <th rowspan="2">Edge (bp)</th>
                        </tr>
                        <tr>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                        </tr>
                    </thead>
                    <tbody>
            
                <tr>
                    <td class="row-header">09:40 Open+10m</td>
                    <td class="pos">18.63%</td> <td>4.78</td> <td>55.0%</td> <td>473</td>
                    <td class="pos">45.03%</td> <td>7.30</td> <td>54.2%</td> <td>605</td>
                    <td class="pos">+2.53</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:00 Morning</td>
                    <td class="pos">12.37%</td> <td>3.13</td> <td>55.8%</td> <td>593</td>
                    <td class="pos">24.79%</td> <td>4.57</td> <td>56.5%</td> <td>653</td>
                    <td class="pos">+1.44</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:30 Late Morning</td>
                    <td class="pos">31.33%</td> <td>6.01</td> <td>56.0%</td> <td>559</td>
                    <td class="pos">27.94%</td> <td>4.99</td> <td>57.9%</td> <td>636</td>
                    <td class="neg">-1.01</td>
                </tr>
                
                <tr>
                    <td class="row-header">12:00 Noon</td>
                    <td class="pos">14.16%</td> <td>3.19</td> <td>58.4%</td> <td>639</td>
                    <td class="pos">27.72%</td> <td>4.96</td> <td>60.2%</td> <td>636</td>
                    <td class="pos">+1.77</td>
                </tr>
                
                <tr>
                    <td class="row-header">13:00 Afternoon</td>
                    <td class="pos">9.71%</td> <td>2.43</td> <td>54.5%</td> <td>685</td>
                    <td class="pos">4.01%</td> <td>1.65</td> <td>55.3%</td> <td>696</td>
                    <td class="neg">-0.78</td>
                </tr>
                
                <tr>
                    <td class="row-header">14:00 Late Afternoon</td>
                    <td class="pos">4.01%</td> <td>1.74</td> <td>53.2%</td> <td>688</td>
                    <td class="pos">8.69%</td> <td>2.43</td> <td>53.5%</td> <td>662</td>
                    <td class="pos">+0.69</td>
                </tr>
                
                <tr>
                    <td class="row-header">15:00 Market Close</td>
                    <td class="neg">-5.87%</td> <td>0.20</td> <td>50.0%</td> <td>680</td>
                    <td class="pos">2.82%</td> <td>1.52</td> <td>52.1%</td> <td>654</td>
                    <td class="pos">+1.32</td>
                </tr>
                </tbody></table></div>
            <div id="tab-valid-XGB" class="tab-content content-valid ">
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2" class="row-header">Time of Day</th>
                            <th colspan="4" class="fam-header xgb-h">Global XGB</th>
                            <th colspan="4" class="fam-header xgb-h">MoE XGB</th>
                            <th rowspan="2">Edge (bp)</th>
                        </tr>
                        <tr>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                        </tr>
                    </thead>
                    <tbody>
            
                <tr>
                    <td class="row-header">09:40 Open+10m</td>
                    <td class="pos">26.04%</td> <td>5.41</td> <td>55.8%</td> <td>545</td>
                    <td class="pos">58.33%</td> <td>8.83</td> <td>54.9%</td> <td>601</td>
                    <td class="pos">+3.42</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:00 Morning</td>
                    <td class="pos">4.79%</td> <td>1.94</td> <td>54.4%</td> <td>608</td>
                    <td class="pos">32.70%</td> <td>5.51</td> <td>56.9%</td> <td>654</td>
                    <td class="pos">+3.57</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:30 Late Morning</td>
                    <td class="pos">25.93%</td> <td>5.17</td> <td>57.5%</td> <td>572</td>
                    <td class="pos">30.69%</td> <td>5.33</td> <td>57.5%</td> <td>636</td>
                    <td class="pos">+0.16</td>
                </tr>
                
                <tr>
                    <td class="row-header">12:00 Noon</td>
                    <td class="pos">21.34%</td> <td>4.12</td> <td>57.1%</td> <td>641</td>
                    <td class="pos">17.88%</td> <td>3.63</td> <td>59.2%</td> <td>654</td>
                    <td class="neg">-0.49</td>
                </tr>
                
                <tr>
                    <td class="row-header">13:00 Afternoon</td>
                    <td class="pos">12.12%</td> <td>2.75</td> <td>56.0%</td> <td>687</td>
                    <td class="pos">8.68%</td> <td>2.32</td> <td>57.0%</td> <td>674</td>
                    <td class="neg">-0.43</td>
                </tr>
                
                <tr>
                    <td class="row-header">14:00 Late Afternoon</td>
                    <td class="pos">4.91%</td> <td>1.87</td> <td>53.8%</td> <td>684</td>
                    <td class="pos">12.51%</td> <td>2.91</td> <td>54.5%</td> <td>673</td>
                    <td class="pos">+1.05</td>
                </tr>
                
                <tr>
                    <td class="row-header">15:00 Market Close</td>
                    <td class="neg">-5.40%</td> <td>0.28</td> <td>50.7%</td> <td>671</td>
                    <td class="neg">-2.07%</td> <td>0.77</td> <td>51.2%</td> <td>656</td>
                    <td class="pos">+0.50</td>
                </tr>
                </tbody></table></div>
            <div id="tab-valid-RF" class="tab-content content-valid ">
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2" class="row-header">Time of Day</th>
                            <th colspan="4" class="fam-header rf-h">Global RF</th>
                            <th colspan="4" class="fam-header rf-h">MoE RF</th>
                            <th rowspan="2">Edge (bp)</th>
                        </tr>
                        <tr>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                        </tr>
                    </thead>
                    <tbody>
            
                <tr>
                    <td class="row-header">09:40 Open+10m</td>
                    <td class="pos">12.23%</td> <td>4.16</td> <td>55.2%</td> <td>391</td>
                    <td class="pos">30.55%</td> <td>6.46</td> <td>55.0%</td> <td>505</td>
                    <td class="pos">+2.30</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:00 Morning</td>
                    <td class="neg">-2.59%</td> <td>0.58</td> <td>51.4%</td> <td>436</td>
                    <td class="pos">59.80%</td> <td>9.15</td> <td>59.7%</td> <td>588</td>
                    <td class="pos">+8.56</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:30 Late Morning</td>
                    <td class="pos">19.10%</td> <td>4.53</td> <td>54.1%</td> <td>518</td>
                    <td class="pos">42.02%</td> <td>6.71</td> <td>57.8%</td> <td>631</td>
                    <td class="pos">+2.18</td>
                </tr>
                
                <tr>
                    <td class="row-header">12:00 Noon</td>
                    <td class="pos">5.22%</td> <td>1.86</td> <td>55.8%</td> <td>685</td>
                    <td class="pos">20.04%</td> <td>4.18</td> <td>57.9%</td> <td>598</td>
                    <td class="pos">+2.32</td>
                </tr>
                
                <tr>
                    <td class="row-header">13:00 Afternoon</td>
                    <td class="neg">-11.94%</td> <td>-0.68</td> <td>53.5%</td> <td>719</td>
                    <td class="pos">1.16%</td> <td>1.25</td> <td>55.0%</td> <td>733</td>
                    <td class="pos">+1.93</td>
                </tr>
                
                <tr>
                    <td class="row-header">14:00 Late Afternoon</td>
                    <td class="neg">-6.07%</td> <td>0.30</td> <td>52.2%</td> <td>728</td>
                    <td class="pos">14.64%</td> <td>3.21</td> <td>53.3%</td> <td>666</td>
                    <td class="pos">+2.90</td>
                </tr>
                
                <tr>
                    <td class="row-header">15:00 Market Close</td>
                    <td class="neg">-16.56%</td> <td>-1.42</td> <td>48.8%</td> <td>722</td>
                    <td class="neg">-9.01%</td> <td>-0.35</td> <td>51.9%</td> <td>653</td>
                    <td class="pos">+1.08</td>
                </tr>
                </tbody></table></div></div></body></html>