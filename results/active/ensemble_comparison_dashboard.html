<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Intraday Model Comparison: Ensemble Included</title>
    <style>
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: #1a1a2e; color: #e8e8e8; padding: 20px; }
        h1 { text-align: center; color: #00d9ff; font-size: 28px; margin-bottom: 20px; }
        .period-section { margin-bottom: 60px; }
        h2 { color: #ccc; border-bottom: 1px solid #444; padding-bottom: 10px; margin-top: 40px; }
        
        /* Tabs */
        .tabs { display: flex; justify-content: center; margin-bottom: 20px; gap: 10px; }
        .tab-btn { background: #333; color: #aaa; border: none; padding: 10px 20px; cursor: pointer; border-radius: 4px; font-size: 16px; transition: 0.2s; }
        .tab-btn:hover { background: #444; }
        .tab-btn.active { background: #00d9ff; color: #000; font-weight: bold; }
        
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        table { width: 100%; border-collapse: collapse; background: rgba(255,255,255,0.05); font-size: 13px; margin-bottom: 20px; }
        th, td { padding: 10px; text-align: right; border: 1px solid rgba(255,255,255,0.1); }
        th { background: rgba(0,0,0,0.3); text-align: center; }
        th.row-header { text-align: left; min-width: 120px; }
        
        .pos { color: #00ff88; }
        .neg { color: #ff6666; }
        .neu { color: #888; }
        
        .fam-header { font-size: 16px; font-weight: bold; }
        .lgb-h { color: #ff99cc; background: rgba(255,153,204,0.1); }
        .xgb-h { color: #99ccff; background: rgba(153,204,255,0.1); }
        .rf-h  { color: #ccff99; background: rgba(204,255,153,0.1); }
        .ens-h { color: #ffd700; background: rgba(255, 215, 0, 0.1); }
        
    </style>
    <script>
        function showTab(period, fam) {
            // Hide all contents for this period
            document.querySelectorAll(`.content-${period}`).forEach(el => el.classList.remove('active'));
            document.querySelectorAll(`.btn-${period}`).forEach(el => el.classList.remove('active'));
            
            // Show selected
            document.getElementById(`tab-${period}-${fam}`).classList.add('active');
            document.getElementById(`btn-${period}-${fam}`).classList.add('active');
        }
    </script>
</head>
<body>
    <h1>ü§ñ Comparative Analysis: Ensemble vs Individual Models</h1>
    <p style="text-align:center; color:#888;">Adding Ensemble (Average of LGB + XGB + RF)</p>
    
        <div class="period-section">
            <h2>Test Period (2022-2025)</h2>
            
            <div class="tabs">
                <button id="btn-test-Ensemble" class="tab-btn btn-test active" onclick="showTab('test', 'Ensemble')">‚≠ê Ensemble</button>
                <button id="btn-test-LGB" class="tab-btn btn-test" onclick="showTab('test', 'LGB')">LightGBM</button>
                <button id="btn-test-XGB" class="tab-btn btn-test" onclick="showTab('test', 'XGB')">XGBoost</button>
                <button id="btn-test-RF" class="tab-btn btn-test" onclick="showTab('test', 'RF')">Random Forest</button>
            </div>
        
            <div id="tab-test-Ensemble" class="tab-content content-test active">
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2" class="row-header">Time of Day</th>
                            <th colspan="4" class="fam-header ens-h">Global Ensemble</th>
                            <th colspan="4" class="fam-header ens-h">MoE Ensemble</th>
                            <th rowspan="2">Edge (bp)</th>
                        </tr>
                        <tr>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                        </tr>
                    </thead>
                    <tbody>
            
                <tr>
                    <td class="row-header">09:40 Open+10m</td>
                    <td class="neg">-6.58%</td> <td>-0.06</td> <td>49.1%</td> <td>544</td>
                    <td class="pos">6.00%</td> <td>2.01</td> <td>51.8%</td> <td>724</td>
                    <td class="pos">+2.08</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:00 Morning</td>
                    <td class="pos">9.82%</td> <td>2.66</td> <td>53.9%</td> <td>629</td>
                    <td class="pos">11.74%</td> <td>2.50</td> <td>53.3%</td> <td>843</td>
                    <td class="neg">-0.16</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:30 Late Morning</td>
                    <td class="neg">-3.90%</td> <td>0.55</td> <td>50.6%</td> <td>638</td>
                    <td class="pos">9.51%</td> <td>2.29</td> <td>51.5%</td> <td>808</td>
                    <td class="pos">+1.74</td>
                </tr>
                
                <tr>
                    <td class="row-header">12:00 Noon</td>
                    <td class="pos">13.85%</td> <td>2.74</td> <td>54.8%</td> <td>831</td>
                    <td class="pos">22.28%</td> <td>3.74</td> <td>53.6%</td> <td>781</td>
                    <td class="pos">+1.00</td>
                </tr>
                
                <tr>
                    <td class="row-header">13:00 Afternoon</td>
                    <td class="pos">17.43%</td> <td>2.92</td> <td>53.5%</td> <td>908</td>
                    <td class="pos">30.02%</td> <td>4.02</td> <td>54.2%</td> <td>920</td>
                    <td class="pos">+1.10</td>
                </tr>
                
                <tr>
                    <td class="row-header">14:00 Late Afternoon</td>
                    <td class="neg">-0.89%</td> <td>1.01</td> <td>50.9%</td> <td>929</td>
                    <td class="pos">11.67%</td> <td>2.32</td> <td>53.1%</td> <td>895</td>
                    <td class="pos">+1.32</td>
                </tr>
                
                <tr>
                    <td class="row-header">15:00 Market Close</td>
                    <td class="neg">-21.61%</td> <td>-1.53</td> <td>47.7%</td> <td>939</td>
                    <td class="neg">-6.04%</td> <td>0.36</td> <td>50.7%</td> <td>890</td>
                    <td class="pos">+1.89</td>
                </tr>
                </tbody></table></div></div>
        <div class="period-section">
            <h2>Validation (2019-2021)</h2>
            
            <div class="tabs">
                <button id="btn-valid-Ensemble" class="tab-btn btn-valid active" onclick="showTab('valid', 'Ensemble')">‚≠ê Ensemble</button>
                <button id="btn-valid-LGB" class="tab-btn btn-valid" onclick="showTab('valid', 'LGB')">LightGBM</button>
                <button id="btn-valid-XGB" class="tab-btn btn-valid" onclick="showTab('valid', 'XGB')">XGBoost</button>
                <button id="btn-valid-RF" class="tab-btn btn-valid" onclick="showTab('valid', 'RF')">Random Forest</button>
            </div>
        
            <div id="tab-valid-Ensemble" class="tab-content content-valid active">
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2" class="row-header">Time of Day</th>
                            <th colspan="4" class="fam-header ens-h">Global Ensemble</th>
                            <th colspan="4" class="fam-header ens-h">MoE Ensemble</th>
                            <th rowspan="2">Edge (bp)</th>
                        </tr>
                        <tr>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                            <th>Ret</th><th>BP</th><th>Win%</th><th>Trds</th>
                        </tr>
                    </thead>
                    <tbody>
            
                <tr>
                    <td class="row-header">09:40 Open+10m</td>
                    <td class="pos">36.61%</td> <td>7.59</td> <td>58.8%</td> <td>488</td>
                    <td class="pos">52.33%</td> <td>8.54</td> <td>57.1%</td> <td>574</td>
                    <td class="pos">+0.95</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:00 Morning</td>
                    <td class="pos">23.21%</td> <td>4.90</td> <td>54.9%</td> <td>563</td>
                    <td class="pos">54.95%</td> <td>8.17</td> <td>56.3%</td> <td>629</td>
                    <td class="pos">+3.27</td>
                </tr>
                
                <tr>
                    <td class="row-header">10:30 Late Morning</td>
                    <td class="pos">47.29%</td> <td>8.17</td> <td>59.5%</td> <td>551</td>
                    <td class="pos">33.75%</td> <td>5.84</td> <td>58.9%</td> <td>620</td>
                    <td class="neg">-2.33</td>
                </tr>
                
                <tr>
                    <td class="row-header">12:00 Noon</td>
                    <td class="pos">46.80%</td> <td>7.10</td> <td>59.0%</td> <td>642</td>
                    <td class="pos">52.10%</td> <td>7.85</td> <td>60.3%</td> <td>625</td>
                    <td class="pos">+0.74</td>
                </tr>
                
                <tr>
                    <td class="row-header">13:00 Afternoon</td>
                    <td class="pos">4.91%</td> <td>1.86</td> <td>56.5%</td> <td>701</td>
                    <td class="neg">-2.45%</td> <td>0.81</td> <td>54.4%</td> <td>697</td>
                    <td class="neg">-1.05</td>
                </tr>
                
                <tr>
                    <td class="row-header">14:00 Late Afternoon</td>
                    <td class="pos">3.08%</td> <td>1.61</td> <td>53.3%</td> <td>692</td>
                    <td class="pos">11.18%</td> <td>2.74</td> <td>54.2%</td> <td>672</td>
                    <td class="pos">+1.13</td>
                </tr>
                
                <tr>
                    <td class="row-header">15:00 Market Close</td>
                    <td class="neg">-8.04%</td> <td>-0.10</td> <td>49.8%</td> <td>699</td>
                    <td class="neg">-1.55%</td> <td>0.86</td> <td>52.2%</td> <td>655</td>
                    <td class="pos">+0.96</td>
                </tr>
                </tbody></table></div></div></body></html>